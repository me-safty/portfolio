---
import Layout from '../layouts/Layout.astro';
import { Hero } from '../components/Hero';
import { SocialLinks } from '../components/SocialLinks';
import { GitHubActivity } from '../components/GitHubActivity';
import { Experiences } from '../components/Experiences';
import { Projects } from '../components/Projects';
import { Skills } from '../components/Skills';
import { ContactCTA } from '../components/ContactCTA';
import { ScrollToTop } from '../components/ScrollToTop';
import { Section, SectionHeader } from '../components/Section';
import portfolioData from '../data/portfolio.json';

const { profile, socials, experiences, projects, skills, quote, github } = portfolioData;
---

<Layout title={`${profile.name} - Portfolio`} description={profile.bio.split('\n')[0]}>
  <main class="max-w-[780px] mx-auto py-10 px-4 md:px-8 md:pl-10 relative before:absolute before:left-0 before:top-0 before:bottom-0 before:w-[3px] before:bg-accent-warm/40 before:rounded-r-full before:hidden md:before:block">
    <!-- Hero banner with gradient mesh -->
    <section class="hero-mesh dashed-border-section h-48 sm:h-56 border-b-0 p-4 sm:p-6 rounded-t-xl overflow-hidden">
      <div class="dot-grid-panel size-full rounded-lg opacity-80" />
    </section>

    <!-- Hero Section -->
    <div class="mb-0 opacity-0 animate-fade-up">
      <Hero profile={profile} client:load />
      <div class="dashed-border-section border-t-0">
        <SocialLinks socials={socials} client:load />
      </div>
    </div>

    <!-- GitHub Activity -->
    <Section className="border-t-0 opacity-0 animate-fade-up animate-fade-up-delay-1">
      <GitHubActivity username={github.username} client:load />
    </Section>

    <!-- Experiences -->
    <Section className="border-t-0 opacity-0 animate-fade-up animate-fade-up-delay-2">
      <SectionHeader title="Experiences" />
      <Experiences experiences={experiences} client:load />
    </Section>

    <!-- Projects -->
    <Section className="border-t-0 opacity-0 animate-fade-up animate-fade-up-delay-3">
      <SectionHeader title="Projects" />
      <Projects projects={projects} client:load />
    </Section>

    <!-- Skills -->
    <Section className="border-t-0 opacity-0 animate-fade-up animate-fade-up-delay-4">
      <SectionHeader title="Skills & Technologies" />
      <Skills skills={skills} client:load />
    </Section>

    <!-- Newsletter + Quote -->
    <Section className="border-t-0 opacity-0 animate-fade-up animate-fade-up-delay-5">
      <SectionHeader title="Newsletter" />
      <ContactCTA email={profile.email} quote={quote} client:load />
    </Section>

    <section class="hero-mesh dashed-border-section border-t-0 h-48 sm:h-56 p-4 sm:p-6 rounded-b-xl overflow-hidden">
      <div class="dot-grid-panel size-full rounded-lg opacity-80" />
    </section>

    <!-- Scroll to top -->
    <ScrollToTop client:load />
  </main>
</Layout>
